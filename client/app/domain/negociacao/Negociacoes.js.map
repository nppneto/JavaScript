{"version":3,"sources":["../../../app-src/domain/negociacao/Negociacoes.js"],"names":["Negociacoes","constructor","armadilha","_negociacoes","Object","freeze","adiciona","negociacao","push","paraArray","concat","volumeTotal","reduce","total","volume","esvazia","length"],"mappings":";;;;;;AAAO,YAAMA,WAAN,CAAkB;AACvBC,oBAAYC,SAAZ,EAAuB;AACrB,eAAKC,YAAL,GAAoB,EAApB;AACA;AACAC,iBAAOC,MAAP,CAAc,IAAd;AACD;;AAEDC,iBAASC,UAAT,EAAqB;AACnB,eAAKJ,YAAL,CAAkBK,IAAlB,CAAuBD,UAAvB;AACA;AACD;;AAEDE,oBAAY;AACV;AACA;AACA;AACA;AACA,iBAAO,GAAGC,MAAH,CAAU,KAAKP,YAAf,CAAP;AACD;;AAED,YAAIQ,WAAJ,GAAkB;AAChB,iBAAO,KAAKR,YAAL,CAAkBS,MAAlB,CACL,CAACC,KAAD,EAAQN,UAAR,KAAuBM,QAAQN,WAAWO,MADrC,EAEL,CAFK,CAAP;AAID;;AAEDC,kBAAU;AACR,eAAKZ,YAAL,CAAkBa,MAAlB,GAA2B,CAA3B;AACA;AACD;AA9BsB","file":"Negociacoes.js","sourcesContent":["export class Negociacoes {\r\n  constructor(armadilha) {\r\n    this._negociacoes = [];\r\n    // this._armadilha = armadilha;\r\n    Object.freeze(this);\r\n  }\r\n\r\n  adiciona(negociacao) {\r\n    this._negociacoes.push(negociacao);\r\n    // this._armadilha(this);\r\n  }\r\n\r\n  paraArray() {\r\n    // Não será possível apagar o array original com\r\n    // this._negociacoes.paraArray().length = 0;\r\n    // Pois o .lenght só conseguirá acessar a cópia do array\r\n    // E não o original, tornando nosso código imutável\r\n    return [].concat(this._negociacoes);\r\n  }\r\n\r\n  get volumeTotal() {\r\n    return this._negociacoes.reduce(\r\n      (total, negociacao) => total + negociacao.volume,\r\n      0\r\n    );\r\n  }\r\n\r\n  esvazia() {\r\n    this._negociacoes.length = 0;\r\n    // this._armadilha(this);\r\n  }\r\n}\r\n"]}